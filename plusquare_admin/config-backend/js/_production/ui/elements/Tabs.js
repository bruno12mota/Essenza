define(["jquery"],function(c){var e=function(b,a,e,f){if(isNaN(a)){for(var d=0;d<f.length;d++)if(f[d]==a){a=d;break}isNaN(a)&&(a=0)}this.active=parseInt(a,10);this.values=f;this.options=e;this.tabs=c(">.ui_tabs >.ui_tab",b);this.tabsButtons=c(">.ui_tabs_menu >a",b).each(function(a){c(this).attr("rel",a)}).click(c.proxy(this.click,this));this.update()};e.prototype={update:function(){this.tabsButtons.each(c.proxy(function(b,a){this.active==b?c(a).addClass("active"):c(a).removeClass("active")},this));
this.tabs.each(c.proxy(function(b,a){this.active==b?c(a).addClass("active"):c(a).removeClass("active")},this));c(this).trigger("change")},click:function(b){b=c(b.target).attr("rel");this.active=parseInt(b,10);this.update();return!1},val:function(b){if(void 0==b)return this.values[this.active];for(var a=0;a<this.values.length;a++)if(this.values[a]==b){this.active=a;this.update();break}}};return e});
