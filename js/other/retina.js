(function(){function d(a){this.path=a;a=this.path.split(".");this.at_2x_path=a.slice(0,a.length-1).join(".")+"@2x."+a[a.length-1]}function e(a){this.el=a;this.path=new d(this.el.getAttribute("src"));var b=this;this.path.check_2x_variant(function(a){a&&b.swap()})}var f="undefined"==typeof exports?window:exports;f.RetinaImagePath=d;d.confirmed_paths=[];d.prototype.is_external=function(){return!!this.path.match(/^https?\:/i)&&!this.path.match("//"+document.domain)};d.prototype.check_2x_variant=function(a){var b,
c=this;if(this.is_external())return a(!1);if(this.at_2x_path in d.confirmed_paths)return a(!0);b=new XMLHttpRequest;b.open("HEAD",this.at_2x_path);b.onreadystatechange=function(){return 4!=b.readyState?a(!1):200<=b.status&&399>=b.status?(d.confirmed_paths.push(c.at_2x_path),a(!0)):a(!1)};b.send()};f.RetinaImage=e;e.prototype.swap=function(a){function b(){c.el.complete?(c.el.setAttribute("width",c.el.offsetWidth),c.el.setAttribute("height",c.el.offsetHeight),c.el.setAttribute("src",a)):setTimeout(b,
5)}"undefined"==typeof a&&(a=this.path.at_2x_path);var c=this;b()};1<f.devicePixelRatio&&(window.onload=function(){var a=document.getElementsByTagName("img"),b=[],c,d;for(c=0;c<a.length;c++)d=a[c],b.push(new e(d))})})();
